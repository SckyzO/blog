---
import BaseLayout from './BaseLayout.astro';
import type { CollectionEntry } from 'astro:content';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

interface Props {
	post: CollectionEntry<'blog'>;
}

const { post } = Astro.props;
const { title, description, pubDate, updatedDate, heroImage } = post.data;
---

<BaseLayout title={title} description={description}>
    <Header slot="header" />
	<article class="prose lg:prose-xl mx-auto">
		{heroImage && <img width={1020} height={510} src={heroImage} alt="" class="rounded-xl shadow-lg mb-8" />}
		<h1 class="text-4xl font-bold mb-2">{title}</h1>
		<div class="text-sm text-gray-500 mb-8 flex gap-4">
			<time datetime={pubDate.toISOString()}>
				Publié le : {pubDate.toLocaleDateString('fr-FR')}
			</time>
			{updatedDate && (
				<div class="italic">
					Mis à jour le : {updatedDate.toLocaleDateString('fr-FR')}
				</div>
			)}
		</div>
		<div class="divider"></div>
		<slot />
	</article>
    <Footer slot="footer" />
</BaseLayout>
